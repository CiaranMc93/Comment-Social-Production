<!doctype html>
<html ng-app="userInfo">
    <head>
        <title>Comment Social</title>
        <!-- External styling -->
        <link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.0.2/css/bootstrap.min.css">
        <link rel="stylesheet" href="//netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.min.css">
        <script type="text/javascript" src="/jquery/dist/jquery.min.js"></script> 
        <script src="/angular/angular.min.js"></script>
        <script src="/js/core.js"></script>
        <link href="/css/submissions.css" rel="stylesheet" type="text/css" />
        <style>
            body         { padding-top:80px; }
        </style>
    </head>
    <!-- SET THE CONTROLLER -->
    <body ng-controller="getData" ng-init="getData()">
        <div class="container">
            <!-- FORM TO SUBMIT DATA -->
            <div id="user-form" class="row">
                <form class="col-sm-8 col-sm-offset-2 text-center" id="post-form">
                    <!-- Create the inputs and submit button-->
                    <input type="text" ng-model="formData.text" placeholder="Enter text" />
                    <button type="submit" class="btn btn-primary" ng-click="postSubmit()">Submit</button>
                </form>
            </div>
            <div class="container">
                <div id="userposts">
                    <h3 class="moduletitle text-center">User Posts</h3>
                    <ul ng-repeat="post in userData">
                        <li id="post"><a ng-click="reply(post._id)"><b>{{ post.username }}</b> posted:  {{ post.text }} at {{ post.dateTime }}</a></li>
                    </ul>
                </div>
                <!-- Create a table for all posts -->
                <div id="allposts" ng-init="getAllPosts()">
                    <h3 class="moduletitle text-center">All Posts</h3>
                    <!-- Loop through each post and show the details -->
                    <ul ng-repeat="post in postData">
                        <li id="post"><a ng-click="reply(post._id)"><b>{{ post.username }}</b> posted:  {{ post.text }} at {{ post.dateTime }}</a></li>
                        <li id="reply" ng-repeat="reply in post.replies">
                            <b>{{ reply.username }}</b> posted:  {{ reply.text }} at {{ reply.dateTime }}
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </body>
</html>
